CREATE TABLE IF NOT EXISTS Markets(MarketId INTEGER PRIMARY KEY, MarketName TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS ProductTypes(ProductTypeId INTEGER PRIMARY KEY, ProductTypeName TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS Products(ProductId INTEGER PRIMARY KEY, ProductName TEXT NOT NULL, ProductType INTEGER NOT NULL, FOREIGN KEY(ProductType) REFERENCES ProductTypes(ProductTypeId));
CREATE TABLE IF NOT EXISTS MarketProducts(Market INTEGER NOT NULL, Product INTEGER NOT NULL, FOREIGN KEY(Market) REFERENCES Markets(MarketId), FOREIGN KEY(Product) REFERENCES Products(ProductId));
CREATE TABLE IF NOT EXISTS ProductPrices(ProductPriceId INTEGER PRIMARY KEY, Product INTEGER NOT NULL, Market INTEGER NOT NULL, Date INTEGER NOT NULL, ExtraCategory REAL, Category1MinPrice REAL, Category1MaxPrice REAL, Category2MinPrice REAL, Category2MaxPrice REAL, QuantityToSupply REAL, DominantPrice REAL, PreviousWeekDominantPrice REAL, PreviousYearDominantPrice REAL, PreviousWeekPriceDifference REAL, PreviousYearPriceDifference REAL, SoldQuantityPercentage REAL, FOREIGN KEY(Product) REFERENCES Products(ProductId), FOREIGN KEY(Market) REFERENCES Markets(MarketId));
CREATE TABLE IF NOT EXISTS ProcessedProductPrices(ProductPriceId INTEGER PRIMARY KEY, Product INTEGER NOT NULL, Market INTEGER NOT NULL, Date INTEGER NOT NULL, ExtraCategory REAL, Category1MinPrice REAL, Category1MaxPrice REAL, Category2MinPrice REAL, Category2MaxPrice REAL, QuantityToSupply REAL, DominantPrice REAL, PreviousWeekDominantPrice REAL, PreviousYearDominantPrice REAL, PreviousWeekPriceDifference REAL, PreviousYearPriceDifference REAL, SoldQuantityPercentage REAL, FOREIGN KEY(Product) REFERENCES Products(ProductId), FOREIGN KEY(Market) REFERENCES Markets(MarketId));